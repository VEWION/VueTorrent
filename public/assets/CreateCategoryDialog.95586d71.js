import{m as n,V as r}from"./vue.10642814.js";import{M as l,a4 as c,a5 as _,a6 as m,Q as d,r as g,s as u,V as p,u as h,y,a as o,$ as C,D as v,v as i}from"./index.62280e3d.js";import{_ as f}from"./VDialog.3e4ff12c.js";import{_ as x}from"./VForm.a2316010.js";import{_ as $}from"./VContainer.a3072131.js";const b={name:"CreateNewCategoryDialog",mixins:[l],props:{initialCategory:Object},data:()=>({category:{name:"",savePath:""},mdiCancel:c,mdiTagPlus:_,mdiPencil:m,valid:!0}),computed:{...n(["getSelectedCategory"]),hasInitialCategory(){return!!(this.initialCategory&&this.initialCategory.name)},nameRules(){return[e=>!!e||this.$i18n.t("modals.newCategory.tipOnNoName"),e=>e&&e.length<=15||this.$i18n.t("modals.newCategory.tipOnNameTooLong")]},PathRules(){return[e=>!!e||this.$i18n.t("modals.newCategory.tipOnNoPath"),e=>e&&e.length<=40||this.$i18n.t("modals.newCategory.TipOnPathTooLong")]}},created(){this.$store.commit("FETCH_CATEGORIES"),this.hasInitialCategory&&(this.category=this.initialCategory)},methods:{create(){this.$refs.categoryForm.validate()},cancel(){this.$store.commit("FETCH_CATEGORIES"),this.dialog=!1},edit(){d.editCategory(this.category),r.$toast.success(this.$t("toast.categorySaved")),this.cancel()}}};var T=function(){var t=this,a=t._self._c;return a(f,{attrs:{"content-class":"rounded-form","max-width":"300px"},model:{value:t.dialog,callback:function(s){t.dialog=s},expression:"dialog"}},[a(u,[a(p,{staticClass:"pa-0"},[a(h,{staticClass:"ma-4 primarytext--text"},[a("h3",[t._v(t._s(t.hasInitialCategory?t.$t("edit"):t.$t("createNew"))+" "+t._s(t.$t("category")))])])],1),a(y,[a(x,{ref:"categoryForm",staticClass:"px-6 mt-3",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(s){t.valid=s},expression:"valid"}},[a($,[a(o,{attrs:{rules:t.nameRules,counter:15,label:t.$t("modals.newCategory.categoryName"),required:"",disabled:t.hasInitialCategory},model:{value:t.category.name,callback:function(s){t.$set(t.category,"name",s)},expression:"category.name"}}),a(o,{attrs:{rules:t.PathRules,counter:40,label:t.$t("path"),required:""},model:{value:t.category.savePath,callback:function(s){t.$set(t.category,"savePath",s)},expression:"category.savePath"}})],1)],1)],1),a(C),a(v,{staticClass:"justify-end"},[t.hasInitialCategory?a(i,{staticClass:"accent white--text elevation-0 px-4",attrs:{disabled:!t.valid},on:{click:t.edit}},[t._v(" "+t._s(t.$t("edit"))+" ")]):a(i,{staticClass:"accent white--text elevation-0 px-4",attrs:{disabled:!t.valid},on:{click:t.create}},[t._v(" "+t._s(t.$t("create"))+" ")]),a(i,{staticClass:"error white--text elevation-0 px-4",on:{click:t.cancel}},[t._v(" "+t._s(t.$t("cancel"))+" ")])],1)],1)],1)},w=[],P=g(b,T,w,!1,null,null,null,null);const V=P.exports;export{V as default};
