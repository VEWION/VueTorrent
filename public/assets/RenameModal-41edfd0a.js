import{d as o,m as r}from"./vue-9ef19677.js";import{M as l}from"./Modal-572b592c.js";import{G as i,Q as m,s as c,t as _,V as d,v as p,z as u,A as h,B as f,a as v,L as x,E as g,x as s}from"./index-9c6a9391.js";import{F as y}from"./FullScreenModal-bced8cbb.js";import{_ as b}from"./VDialog-2e2fb52d.js";import{_ as C}from"./VContainer-cb71da1d.js";const k=o({name:"RenameModal",mixins:[l,y],props:{hash:String},data(){return{name:"",mdiFile:i}},computed:{...r(["getTorrent"]),torrent(){return this.getTorrent(this.hash)}},mounted(){document.addEventListener("keydown",this.handleKeyboardShortcut)},created(){this.name=this.torrent.name},beforeDestroy(){document.removeEventListener("keydown",this.handleKeyboardShortcut)},methods:{urlDecode(){this.name=decodeURIComponent(this.name)},async rename(){await m.setTorrentName(this.hash,this.name),this.close()},close(){this.dialog=!1},handleKeyboardShortcut(n){n.key==="Escape"?this.close():n.key==="Enter"&&this.rename()}}});var T=function(){var e=this,t=e._self._c;return e._self._setupProxy,t(b,{attrs:{scrollable:"","max-width":"750px","content-class":e.phoneLayout?"rounded-0":"rounded-form",fullscreen:e.phoneLayout},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t(_,[t(d,{staticClass:"pa-0"},[t(p,{staticClass:"ma-4 primarytext--text"},[t("h3",[e._v(e._s(e.$t("modals.rename.title")))])])],1),t(u,[t(C,[t(h,[t(f,[t(v,{attrs:{clearable:"",label:e.$t("modals.rename.torrentName"),"prepend-inner-icon":e.mdiFile},model:{value:e.name,callback:function(a){e.name=a},expression:"name"}})],1)],1)],1)],1),t(x),t(g,{staticClass:"justify-end"},[t(s,{staticClass:"accent white--text elevation-0 px-4",on:{click:e.rename}},[e._v(" "+e._s(e.$t("save"))+" ")]),t(s,{staticClass:"error white--text elevation-0 px-4",on:{click:e.close}},[e._v(" "+e._s(e.$t("cancel"))+" ")])],1)],1)],1)},w=[],$=c(k,T,w,!1,null,null,null,null);const R=$.exports;export{R as default};
